{% extends "base.html" %}
{% load i18n %}

{% block content %}
<h1>
    {% blocktrans with name=user.full_name %}
    Lịch sử mượn sách của {{ name }}
    {% endblocktrans %}
</h1>

{% if borrow_requests %}
<ul>
    {% for req in borrow_requests %}
    <li>
        {% blocktrans with req_id=req.id %}
        Yêu cầu #{{ req_id }}:
        {% endblocktrans %}

        {{ req.requested_from }} → {{ req.requested_to }}

        - {% trans "Trạng thái:" %} {{ req.get_status_display }}

        <ul>
            {% for item in req.items.all %}
            <li>
                {% blocktrans with title=item.book.title quantity=item.quantity %}
                {{ title }} (x{{ quantity }})
                {% endblocktrans %}
            </li>
            {% endfor %}
        </ul>
    </li>
    {% endfor %}
</ul>

{% else %}
<p>{% trans "Chưa có yêu cầu mượn nào." %}</p>
{% endif %}

{% endblock %}
