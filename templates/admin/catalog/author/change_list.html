{% extends "admin/change_list.html" %}
{% load admin_urls static %}

{% block extrastyle %}
  {{ block.super }}
  <style>
    /* Modern Export Excel Button */
    .object-tools .exportlink {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 10px 20px;
      background: #28a745;
      color: #fff !important;
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      border-radius: 4px;
      border: none;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: all 0.2s ease;
      vertical-align: middle;
      margin-left: 8px;
    }
    .object-tools .exportlink:hover { 
      background: #218838;
      box-shadow: 0 4px 8px rgba(0,0,0,0.15);
      transform: translateY(-1px);
    }
    .object-tools .exportlink:active { 
      transform: translateY(0);
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .object-tools .exportlink::before { content: none !important; display: none !important; }

    /* Enhanced changelist styling */
    .results tbody tr:hover {
      background-color: #f5f5f5;
    }

    .results .field-books_count a {
      color: #007cba;
      font-weight: 600;
    }

    /* Date formatting enhancement */
    .results .field-birth_date,
    .results .field-death_date {
      font-family: 'Courier New', monospace;
      font-size: 12px;
      color: #555;
    }
  </style>
{% endblock %}

{% block content_title %}
  Authors Management
{% endblock %}

{% block result_list %}
  {{ block.super }}
{% endblock %}

{% block object-tools-items %}
  {{ block.super }}
  <a href="{% url 'admin_export_authors_excel' %}?{{ request.GET.urlencode }}" 
     class="exportlink" 
     title="Export to Excel">
    Export Excel
  </a>
{% endblock %}

{% block extrajs %}
  {{ block.super }}
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Add visual feedback for bulk actions
    const actionSelect = document.querySelector('select[name="action"]');
    if (actionSelect) {
      Array.from(actionSelect.options).forEach(option => {
        if (option.value.includes('clear_death_date')) {
          option.text = 'ðŸ’€ ' + option.text;
        } else if (option.value.includes('clear_birth_date')) {
          option.text = 'ðŸŽ‚ ' + option.text;
        }
      });
    }
  });
  </script>
{% endblock %}
